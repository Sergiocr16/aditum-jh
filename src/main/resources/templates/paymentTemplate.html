<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html;" charset="UTF-8"/>
    <title>Recibo de Pago ADITUM</title>
    <style>

        .invoice-box {
            max-width: 800px;
            margin: auto;
            padding: 0px;
            font-size: 14px;
            line-height: 24px;
            color: #555;
            font-family: 'Helvetica Neue', 'Helvetica', Helvetica, Arial, sans-serif;
            overflow: hidden
        }

        .invoice-box table {
            width: 100%;
            line-height: inherit;
            text-align: left;
        }

        .invoice-box table td {
            padding: 5px;
            vertical-align: top;
        }

        .invoice-box table tr td:nth-child(2) {
            text-align: right;
        }

        .invoice-box table tr.top table td {
            padding-bottom: 20px!important;
            margin-bottom: 25px!important;
        }

        .invoice-box table tr.top table td.title {
            font-size: 45px;
            line-height: 45px;
            color: #333;
        }

        .invoice-box table tr.information table td {
            padding-bottom: 40px;
        }

        .invoice-box table tr.heading td {
            background: #eeeeee;
            border-bottom: 2px solid #009688;
            font-weight: bold;
            font-size: 13px;
        }

        .invoice-box table tr.details td {
            padding-bottom: 20px;
            padding-top: 20px;
        }

        .invoice-box table tr.item td {
            border-bottom: 1px solid #eee;
        }

        .invoice-box table tr.item.last td {
            border-bottom: none;
        }

        .invoice-box table tr.total td:nth-child(2) {
            border-top: 2px solid #eee;
            font-weight: bold;
        }

        @media only screen and (max-width: 600px) {
            .invoice-box table tr.top table td {
                width: 100%;
                display: block;
                text-align: center;
            }

            .invoice-box table tr.information table td {
                width: 100%;
                display: block;
                text-align: center;
            }
        }

        /** RTL **/
        .rtl {
            direction: rtl;
        }

        .rtl table {
            text-align: right;
        }

        .rtl table tr td:nth-child(2) {
            text-align: left;
        }

        .condominio-name {
            line-height: 1em;
            font-weight: bold;
            font-size: 25px;
            color: #009688;
            margin-bottom: 0px;
            margin-top: 35px;
        }

        .text-center {
            text-align: center !important;
        }

        .total-ammount {
            border-top: 2px solid #009688;
            background: #009688;

            font-weight: bold;
            color: white;
            text-align: center;
        }

        .payment-method {
            border-top: 2px solid #009688;
            color: #555;
            font-size: 15px;
        }

        .comprobante-title {
            background-color: #009688;
            color: white;
            font-size: 15px;
            padding: 10px;
            margin-left: -5px;
            margin-top: 20px;
            border-top-right-radius: 10px;
            border-bottom-right-radius: 10px;
        }

        .folio-number {
            text-align: right;
            color: #009688;
            font-size: 25px;
        }

        .text-right {
            text-align: right !important;
        }

        @page {
            size: A4 portrait;
            margin: 1cm;
            overflow: hidden;
        }

        @page {
            @top-left {
                content: element(header);
            }
        }

        @page :first {
            @top-left {
                content: element(firstPageHeader);
            }
        }

        div.footer {
            position: running(footer);
            text-align: right;
        }

        @page {
            @bottom-right {
                content: element(footer);
            }
        }

        #pagenumber:before {
            content: counter(page);
        }

        #pagecount:before {
            content: counter(pages);
        }

        @media print {
            .no-page-break {
                margin-top: 25px;

                page-break-inside: avoid;
                -fs-keep-with-inline: keep;
                -fs-table-paginate: paginate;
            }
        }

        .data-table table {
            -fs-table-paginate: paginate;
        }

        div.header {
            display: block;
            text-align: left;
            position: running(header);
            font-size: 10px;
            line-height: 24px;
            font-family: 'Helvetica Neue', 'Helvetica', Helvetica, Arial, sans-serif;
            color: #555;
        }

        div.content {
            overflow: hidden;
            margin-left: -3px!important;
        }

        div.footer {
            counter-increment: page;
            position: running(footer);
            text-align: left;
            font-family: 'Helvetica Neue', 'Helvetica', Helvetica, Arial, sans-serif;
            color: #555;
        }
    </style>
</head>
<body style="overflow:hidden">

<div id="firstPageHeader" style="position: running(firstPageHeader);"></div>
<div class="footer">
    <b style="font-size:11px;" th:text="|${currentDate}|"></b>
    <img style="margin-left: 260px" width="100px"  src="https://res.cloudinary.com/aditum/image/upload/v1583873633/ADITUM%20IMAGES/LogoWebHor645x200.png"/>
    <h4 style="font-size:11px;font-family: 'Helvetica Neue', 'Helvetica', Helvetica, Arial, sans-serif;
            color: #555;display:inline;float:right;"> Página <span id="pagenumber"></span> / <span id="pagecount"></span>
    </h4>
</div>
<div class="invoice-box content">
    <table cellpadding="0" cellspacing="0">
        <tr class="top" style="margin-top: 40px!important;">
            <td>
                <h2 style="text-align:left;margin-bottom:0; margin-top: 0px!Important;">
                    <img height="70px" th:src="|${logo}|"/>
                </h2>
            </td>
            <td>
            </td>
            <td>
                <h2 style="text-align:right;margin-bottom:0; margin-top: 0px!Important;">
                    <img height="70px" th:src="|${logoAdmin}|"/>
                </h2>
            </td>
        </tr>
        <tr>
            <td  style="padding-top: 20px!important;">
                <span  class="comprobante-title"> Recibo de Pago </span>

            </td>
            <td>
            </td>
<td>    <h2 style="text-align:right; font-size:15px"> Folio N°  <span class="folio-number"
                                                                               th:text="|${payment.receiptNumber}|"></span></h2></td>
        </tr>
        <tr>
            <td colspan="3">
                <p style="margin: 0px;" th:text="|${company.legalName}|">Condominio</p>
                <p style="margin: 0px;">Cédula jurídica: <span th:text="|${company.legalIdentification}|">Condominio</span></p>
                <p th:if="|${company.phoneNumber!=null}|" style="margin: 0px;">Teléfono: <span th:text="|${company.phoneNumber}|">Condominio</span> </p>
                <p th:if="|${company.phoneNumber==null}|" style="margin: 0px;">Teléfono: <span >No registrado</span> </p>
                <p style="margin: 0px;">Correo: <span th:text="|${company.email}|">Condominio</span> </p>
                <p style="margin: 0px;">Dirección: <span th:text="|${company.direction}|">Condominio</span> </p>
            </td>
        </tr>
        <tr class="details">
            <td>
                <b th:if="|${house!=null}|"><span th:text="|${payment.concept}|"> </span> - Filial # <span th:text="|${house.housenumber}|">numero de casa</span></b>
                <b th:if="|${house==null}|"><span th:text="|${company.name}|"> </span> - Otro ingreso</b>
            </td>
            <td>
            </td>
            <td class="text-right">
            </td>
        </tr>
        <tr>
            <td colspan="3">
                <hr style="border-top: 1px solid #e0f2f1;">
                </hr>
            </td>
        </tr>
        <tr th:if="${user.isCompany==true}">
            <td style="width: 50%" >
                <b> <span style="display:block;font-size:13px">Cliente</span></b>
                <span th:text="|${user.legalCompanyName}|">Contacto Principal</span>
            </td>
            <td>
            </td>
            <td style="width: 50%">
                <b><span style="display:block;font-size:13px">Cédula</span></b>
                <span th:text="|${user.legalIdentification}|"></span>
            </td>
        </tr>
        <tr>
            <td style="width: 25%">
                <b> <span style="display:block;font-size:13px" th:if="${user.isCompany==false}">Receptor</span></b>
                <b> <span style="display:block;font-size:13px" th:if="${user.isCompany==true}">Representante</span></b>
                <span th:text="|${contacto}|">Contacto Principal</span>
            </td>
            <td style="width: 20%">
                <b><span style="display:block;font-size:13px">Fecha de pago</span></b>
                <span th:text="|${paymentDate}|"></span>
            </td>
            <td style="width: 20%">
                <b><span style="display:block;font-size:13px">Banco</span></b>
                <span th:text="|${payment.account}|">Banco</span>
            </td>
        </tr>
        <tr>
            <td style="width: 25%">
                <b><span style="display:block;font-size:13px">Método de pago</span></b>
                <span th:text="|${payment.paymentMethod}|">Metodo de pago</span>
            </td>
            <td style="width: 20%">
                <b><span style="display:block;font-size:13px">Teléfono</span></b>
                <span th:text="|${phoneNumber}|"></span>
            </td>
            <td style="width: 20%" th:if="${payment.documentReference}">
                <b><span style="display:block;font-size:13px">Referencia Bancaria</span></b>
                <span th:text="|${payment.documentReference}|">Referencia Bancaria</span>
            </td>
        </tr>
        <tr th:if="${payment.ammountPayedSaldoFavor!='0.0'}">
            <td colspan="3" style="padding-top:20px;font-size:12px"><b>Notas</b></td>
        </tr>
        <tr th:if="${payment.ammountPayedSaldoFavor!='0.0'}">
            <td colspan="3" style="font-size:12px;text-align:left">En este pago se canceló un monto de <img th:if="${currency!='$'}" src="https://res.cloudinary.com/aditum/image/upload/v1554150824/ADITUM%20IMAGES/colones-gris.png" height="8"/> <span
                th:text="${payment.ammountPayedSaldoFavorFormatted}"></span> gracias a un saldo a favor anterior.
            </td>
        </tr>
        <tr style="margin-top: 40px!important;">
            <td colspan="3">
                <div class="data-table" style="margin-top: 20px!important;">
                    <table cellpadding="0" cellspacing="0">
                        <thead>
                        <tr class="heading">
                            <td>
                                CONCEPTO
                            </td>
                            <td class="text-center">
                                CATEGORÍA
                            </td>
                            <td class="text-center">
                                ABONO
                            </td>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:if="${payment.getTransaction()=='3'}" class="item no-page-break">
                            <td>
                                <span th:text="${payment.concept}"></span>
                            </td>
                            <td class="text-center">
                                OTROS INGRESOS
                            </td>
                            <td class="text-center">
                                <img th:if="${currency!='$'}" src="https://res.cloudinary.com/aditum/image/upload/v1554150824/ADITUM%20IMAGES/colones-gris.png" height="10"/> <span
                                th:text="${paymentTotal}"></span>
                            </td>
                        </tr>
                        <tr th:if="|${payment.getHouseId()!=null}|" class="item no-page-break" th:each="charge : ${payment.charges}">
                            <td>
                                <span th:text="${charge.concept}"></span>  <span th:if="${charge.type==6}  " th:text="${charge.waterConsumption}"></span>
                            </td>
                            <td class="text-center" th:if="${charge.type!=4}" th:text="${charge.category}">
                            </td>
                            <td class="text-center"  th:if="${charge.type==4}">ADELANTO</td>

                            <td class="text-center">
                                <img th:if="${currency!='$'}" src="https://res.cloudinary.com/aditum/image/upload/v1554150824/ADITUM%20IMAGES/colones-gris.png" height="10"/> <span
                                th:text="${charge.abonadoFormatted}"></span>
                            </td>
                        </tr>
                        <tr class="no-page-break">
                            <td class="payment-method" colspan="1"></td>
                            <td class="total-ammount text-center" colspan="1">
                                <div style="display:inline;float: right"><b>Total:</b></div>
                            </td>
                            <td class="total-ammount text-center" colspan="1">
                                <div class="text-center" style="display:inline;float: right">
                                    <div style="display:inline;float: left;margin:0px 2px">
                                        <img th:if="${currency!='$'}"
                                             src="https://res.cloudinary.com/aditum/image/upload/v1554150821/ADITUM%20IMAGES/colones-blanco-peque%C3%B1o.png" height="11"/>
                                    </div>
                                    <span class="text-center"><span th:text="|${paymentTotal}|"></span></span>
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </td>
        </tr>
        <tr class="no-page-break">
            <td colspan="3" style="padding-top:20px;font-size:12px"><b>COMENTARIOS</b></td>
        </tr>
        <tr class="no-page-break">
            <td colspan="3" style="font-size:12px;text-align:left" th:text="|${payment.comments}|">Comentarios</td>
        </tr>

    </table>
</div>
</body>
</html>
