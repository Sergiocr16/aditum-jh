
<div class="page-bar route-title">
    <ul ng-if="companyUser.id !== vm.resident.id" class="page-breadcrumb">
        <li>
            <i class="fa fa-home"></i>
            <a ui-sref="home()">Condominio</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li has-authority="ROLE_MANAGER">
            <a href="" ui-sref="resident()">Residentes</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li has-authority="ROLE_USER">
            <a href="" ui-sref="residentByHouse()">Residentes</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a href="">{{vm.title}}</a>
        </li>
    </ul>
    <ul ng-if="companyUser.id === vm.resident.id" class="page-breadcrumb">
        <li>
            <i class="fa fa-user"></i>
            <a>Mi perfil</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a >Administrar</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a href="">Información</a>
        </li>
    </ul>
    <div class="page-toolbar">
        <div class="btn-group pull-right"> </div>
    </div>
</div>
<div class="loading col-lg-12 col-md-12 col-sm-12 col-xs-12" id="loadingIcon">
    <h1 class="text-center">
        <img src="content/images/nobody-image.jpg" alt="" />

    </h1>
</div>
<div class="display-none" id="edit_resident_form">
    <div class="row">
        <div class="col-md-12">
            <form ng-submit="vm.save()">
                <div class="portlet light bordered">
                    <div class="portlet-title">
                        <div class="caption font-green-haze">
                            <i class="fa fa-user font-green-haze"></i>
                            <span ng-if="vm.resident.userLogin===null || vm.resident.id === null" class="caption-subject bold uppercase">{{vm.title }}</span>
                            <span ng-if="vm.resident.userLogin!==null && vm.resident.id !== null" class="caption-subject bold uppercase">Editar información [{{vm.resident.userLogin}}]</span>
                        </div>
                    </div>
                    <div class="portlet-body form">
                        <div has-any-authority="ROLE_MANAGER,ROLE_ADMIN" class="col-md-offset-9 col-md-3 col-sm-offset-8 col-sm-4 col-xs-12">
                            <span class=" font-15 gray-font col-md-10 col-sm-10 col-xs-10">Autorizado de filial: </span>
                            <div class="lg-checkbox-list col-md-2 col-sm-2 col-xs-2">
                                <div class="md-checkbox">
                                    <input type="checkbox"  ng-model="vm.resident.isOwner" id="checkbox1" class="md-check">
                                    <label for="checkbox1">
                                        <span></span>
                                        <span class="check"></span>
                                        <span class="box"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <h3 ngf-change="vm.setImage($file, vm.resident)" class="text-center"><img ng-hide="vm.resident.image" width="200px" height="200px" class="img-circle" src="content/images/nobody-image.jpg"/> <img src="content/images/nobody-image.jpg" data-ng-src="{{'data:' + vm.resident.imageContentType + ';base64,' + vm.resident.image}}"   ng-if="vm.resident.image" id="blah"  alt="your image" width="200px" height="200px" class="img-circle"/></h3>

                        <h3 class="text-center">
                            <button type="button" ngf-select class="btn default btn-file fileinput-new gray-font"
                                    ngf-change="vm.setImage($file, vm.resident)" accept="image/*" >
                                Subir imagen
                            </button>
                        </h3>

                        <div class="col-lg-6 col-md-6 col-sm-6 marging-top-20">
                            <div class="form-group form-md-line-input">
                                <input ng-model="vm.resident.name" type="text" class="form-control letters gray-font" required style="text-transform: capitalize;">
                                <label  class="font-15">Nombre</label>
                            </div>
                            <div class="form-group form-md-line-input">
                                <input ng-model="vm.resident.lastname" type="text" class="form-control letters gray-font" required style="text-transform: capitalize;">
                                <label  class="font-15">Primer Apellido</label>
                            </div>
                            <div class="form-group form-md-line-input">
                                <input ng-model="vm.resident.secondlastname" type="text" class="form-control letters gray-font" required style="text-transform: capitalize;">
                                <label class="font-15">Segundo Apellido</label>
                            </div>
                            <div has-authority="ROLE_MANAGER" class="form-group form-md-line-input">
                                <input ng-model="vm.resident.identificationnumber" type="text" class="form-control numbers gray-font" required>
                                <label  class="font-15">Número de cédula</label>
                            </div>
                        </div>

                        <div class="col-lg-6 col-md-6 col-sm-6 marging-top-20">

                            <div class="form-group form-md-line-input">
                                <input ng-focus="expression==1" ng-model="vm.resident.phonenumber" type="text" placeholder="" maxlength="20" class="form-control numbers gray-font">
                                <label class="font-15">Número celular</label>
                            </div>
                            <div class="form-group form-md-line-input ">
                                <input ng-model="vm.resident.email" type="email" class="form-control gray-font" placeholder="">
                                <label class="font-15">Correo electrónico</label>
                            </div>

                            <div has-authority="ROLE_USER" class="form-group form-md-line-input">
                                <input ng-model="vm.resident.identificationnumber" type="text" class="form-control numbers gray-font" required>
                                <label  class="font-15">Número de cédula</label>
                            </div>

                            <div has-authority="ROLE_MANAGER" class="form-group form-md-line-input has-info">
                            <select class="form-control gray-font" id="field_house"  ng-model="vm.resident.houseId" ng-options="house.id as house.housenumber for house in vm.houses"  ng-required='vm.required==1'>
                                <option value="">Seleccione una casa</option>
                            </select>
                                <label class="font-15 ">Número de casa</label >
                            </div>
                        </div>
                        <div class="col-md-6 col-sm-6 hidden-xs" style="height: 45px;"></div>

                        <div class="form-actions noborder">
                            <h3 class="text-right ">
                                <button type="submit" class="btn blue"><i class="fa fa-pencil " ng-disabled="editForm.$invalid || vm.isSaving"  ng-show="vm.button=='Editar'"></i> {{vm.button}}</button>
                                <button has-authority="ROLE_MANAGER" type="button" ui-sref="resident()" class="btn red default">Cancelar</button>
                                <button has-authority="ROLE_USER" type="button" ui-sref="residentByHouse()" class="btn red default">Cancelar</button>
                            </h3>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
