<!-- SE REQUIERE EN CADA VISTA -->
<div class="page-bar route-title">
    <ul class="page-breadcrumb">
        <li>
            <i class="fa fa-money"></i>
            <a>Finanzas</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a >{{vm.banco.beneficiario}}</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a >Movimientos</a>
        </li>
    </ul>
    <div class="page-toolbar">
        <div class="btn-group pull-right" style="padding-top:10px;">
            <i class="fa fa-lightbulb-o" style="font-size:20px; color:orange"></i>
        </div>
    </div>
</div>
<div class=" col-lg-12 col-md-12 col-sm-12 col-xs-12" id="loadingIcon">
    <div class="spinnerLoading">
        <div class="double-bounce1"></div>
        <div class="double-bounce2"></div>
    </div>
</div>
<div class="row display-none" id="tableData">
    <div class="col-md-12">
        <h3 class="page-title col-md-7 col-lg-7 col-xs-12 col-sm-12 caption-subject font-green-sharp font-weight-600" ng-hide="vm.isConsulting==true">{{vm.banco.beneficiario}}
        </h3>
        <h3 class="page-title col-md-5 col-lg-5 col-xs-12 col-sm-12 caption-subject font-green-sharp font-weight-600" ng-show="vm.isConsulting==true">{{vm.banco.beneficiario}}
            <div ng-show="vm.isConsulting==true">
                <h4 class="caption-subject font-green-sharp font-weight-600">{{vm.titleConsult}}</h4>
            </div>
        </h3>
        <button type="button" class="btn btn-primary col-md-2  col-lg-2 col-sm-2 col-xs-12" style="background-color:#009688;" ng-click="vm.stopConsulting()" ng-show="vm.isConsulting==true" name="button">Movimientos del mes</button>
        <div class=" col-md-5 col-lg-5 col-sm-12 col-xs-12 no-padding-right">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 no-padding gray-font">
                <input ng-model="vm.dates.initial_time" style="border: 1px #f2f2f2 solid;" ng-click="vm.openCalendar('initialtime')" ng-change="vm.updatePicker()" enable-time="false" datetime-picker="dd MMMM yyyy" datepicker-options="vm.picker1.datepickerOptions" is-open="vm.datePickerOpenStatus.initialtime"
                       type="text" class="form-control letters gray-font text-center dating" placeholder="Desde la fecha" required>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 no-padding">
                <input ng-model="vm.dates.final_time"  style="border: 1px #f2f2f2 solid;" ng-click="vm.openCalendar('finaltime')" ng-change="vm.updatePicker()" enable-time="false" datetime-picker="dd MMMM yyyy" datepicker-options="vm.picker2.datepickerOptions" is-open="vm.datePickerOpenStatus.finaltime" type="text"
                       class="form-control letters gray-font text-center dating"  placeholder="Hasta la fecha" required>
            </div>
            <button ng-disabled="vm.isDisableButton()" ng-click="vm.consult()" class="btn orange-button-oficial col-md-4 col-sm-4 col-xs-12  small-margin-bottom">Consultar</button>
        </div>

        <div class="portlet-body ">
            <div class="table-scrollable gray-font" style="overflow-x: hidden!important; border: 0px!important;">
                <table class="table  table-hover font-13 tableMaterialDesignAccountStatus">
                    <thead  style="background-color: #fafafa;" class="">

                        <tr jh-sort="vm.predicate" ascending="vm.reverse" callback="vm.transition()">
                            <th></th>
                            <th style="text-align:center;"><span  style="font-size:12px;" class="bold">FECHA </span></th>

                            <th  style="text-align:center;"><span  style="font-size:12px;" class="bold">FOLIO</span> </th>

                            <th  style="text-align:center;"><span  style="font-size:12px;" class="bold">CONCEPTO </span></th>


                            <th style="text-align:center;"><span style="font-size:12px;" class="bold">INGRESO </span> </th>
                            <th  style="text-align:center;"><span style="font-size:12px;" class="bold">EGRESO </span> </th>


                            <th  style="text-align:center;"><span style="font-size:12px;" class="bold">SALDO </span></th>


                        </tr>

                    </thead>
                    <tbody>

                    <tr>  <td  colspan="6"><span class=" bold" style="font-size:12px; text-transform:uppercase;">SALDO INICIAL AL {{ vm.initialDate | date:'longDate'}}</span></td> <td class="bold text-center" ng-hide="vm.isConsulting">₡{{vm.formatearNumero(vm.saldoInicial+"")}}</td> <td ng-show="vm.isConsulting" class="bold text-center">₡{{vm.formatearNumero(vm.saldoInicialConsulting+"")}}</td></tr>
                    <tr ng-repeat="movement in vm.movementsList "  data-toggle="{{egress.id}}" >
                        <td style="text-align:center;"> <i class="fa fa-exchange" angular-popover direction="right" template="<div style='padding:5px;width:200px;color:black'><h5 class='bold'>Transferencia saliente hacia {{movement.bancoEntrante}}<h5></div>" mode="mouseover" style="color:#f45050; font-size:18px;" ng-show="movement.movementType==4"></i> <i class="fa fa-exchange" angular-popover direction="right" template="<div style='padding:5px;width:200px;color:black'><h5 class='bold'>Transferencia entrante del {{movement.bancoEntrante}}<h5></div>" mode="mouseover" style="color:#009200; font-size:18px;" ng-show="movement.movementType==3"></i> <i class="fa fa-arrow-right" ng-show="movement.movementType==2" angular-popover direction="right" template="<div style='padding:5px;width:100px;color:black'><h5 class='bold'>Ingreso<h5></div>" mode="mouseover" style="color:#009200; font-size:18px;"></i><i class=" fa fa-arrow-left" ng-show="movement.movementType==1" angular-popover direction="right" template="<div style='padding:5px;width:100px;color:black'><h5 class='bold'>Egreso<h5></div>" mode="mouseover" style="color:#f45050; font-size:18px;"></i></td>
                        <td style="text-align:center;"> {{movement.paymentDate | date:'mediumDate'}}</td>
                        <td style="text-align:center;">{{movement.folio}}</td>
                        <td>{{movement.concept}}</td>
                        <td style="color:#009200; text-align:center;"><span ng-show="movement.ammount!==undefined">₡{{vm.formatearNumero(movement.ammount+"")}}</span></td>
                        <td style="color:red; text-align:center;"><span ng-show="movement.total!==undefined">₡{{vm.formatearNumero(movement.total+"")}}</span></td>
                        <td class="text-center">₡{{vm.formatearNumero(movement.balance+"")}}</td>


                    </tr>
                    <tr>  <td  colspan="4"><span class=" bold" style="font-size:11px; ">TOTAL</span></td>  <td class="text-center bold" style="color:#009200;">₡{{vm.formatearNumero(vm.totalIngress+"")}}</td> <td class="text-center bold" style="color:red;">₡{{vm.formatearNumero(vm.totalEgress+"")}}</td><td class="text-center bold">₡{{vm.formatearNumero(vm.totalBalance+"")}}</td></tr>

                    </tbody>
                </table>
            </div>
            <hr>
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 no-padding" style="border:1px solid #f2f2f2">
                <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7 font-15" style="border:1px solid #dddddd; margin:10px 0px 10px 10px; padding-top:10px; padding-bottom:10px; background-color:#f8f8f8"><i class="fa fa-balance-scale"></i> <span>Saldo</span>
                    <div class="btn-group pull-right">
                         <span style="color:{{vm.balanceColor}};">₡{{vm.formatearNumero(vm.totalBalance+"")}}</span>
                    </div>

                </div>
                <div class="btn-group pull-right col-lg-2 col-md-2" style="margin-top:10px;">
                    <button type="button"  class="btn  green-button-oficial col-md-12" ui-sref="banco.transferencia" style="padding:10px;"><i class="fa fa-exchange" ></i> Transferir fondos</button>
                </div>

            </div>
        </div>

    </div>
</div>
