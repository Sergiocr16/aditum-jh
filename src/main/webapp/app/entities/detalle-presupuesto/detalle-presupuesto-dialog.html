<!--&lt;!&ndash; SE REQUIERE EN CADA VISTA &ndash;&gt;-->
<!--<div class="page-bar route-title">-->
    <!--<ul class="page-breadcrumb">-->
        <!--<li>-->
            <!--<a>Finanzas</a>-->
            <!--<i class="fa fa-angle-right"></i>-->
        <!--</li>-->
        <!--<li>-->
            <!--<a ui-sref="presupuesto()">Presupuestos</a>-->
            <!--<i class="fa fa-angle-right"></i>-->
        <!--</li>-->
        <!--<li>-->
            <!--<a href="">Capturar presupuesto</a>-->
        <!--</li>-->
    <!--</ul>-->
    <!--<div class="page-toolbar">-->
        <!--<div class="btn-group pull-right">-->

        <!--</div>-->
    <!--</div>-->
<!--</div>-->

<div ng-if="!vm.isReady" layout="row" class="content-loader" layout-sm="column" layout-fill  layout-align="space-around center">
    <md-progress-circular md-mode="indeterminate" md-diameter="90px" ></md-progress-circular>
</div>
<div ng-class="{'portlet light bordered scroll-vertical portlet-fullscreen':vm.expanding }" ng-if="vm.isReady" class="row fade-in" id="budgetContainer">
    <div class="col-md-12">
        <div style="margin-bottom:15px;" class="caption font-green-haze">
            <h3 class="page-title col-md-12 col-lg-12 col-xs-12 col-sm-12 font-green-sharp font-weight-600  " style="color: #00b19d">Capturar presupuestos</h3>
            <div class="btn-group pull-right">
                <button class="btn btn-circle btn-icon-only btn-default fullscreen" style="margin-top:-5px;margin-bottom:14px;" ng-click="vm.expand()"><i class="fa fa-expand" aria-hidden="true"></i></button>

            </div>
        </div>
        <div class="col-md-12 no-padding" style="margin-bottom:15px;">
            <div class="col-md-6 col-sm-6 col-xs-6 no-padding">
                <span class=" font-13 gray-font col-md-12 col-sm-12 col-xs-12 no-padding" style="margin-bottom:10px;">Seleccione el año que desea presupuestar.</span>
                <span class=" font-13 gray-font col-md-12 col-sm-12 col-xs-12 no-padding" style="margin-bottom:10px;">Únicamente podrá seleccionar los años en los que no haya un presupuesto creado.</span>
                <span class=" font-13 gray-font col-md-12 col-sm-12 col-xs-12 no-padding">Ingrese cantidad presupuestada por mes/categoría. <span class="bold">(SÓLO NÚMEROS Ej. 15000)</span> </span>
            </div>

            <div class="col-md-offset-2 col-sm-offset-2 col-xs-offset-2  col-md-2 col-sm-2 col-xs-2 no-padding">
                <select class="form-control gray-font" data-ng-model="vm.presupuesto.anno" ng-options="item.year for item in vm.budgetYearsToSelect | orderBy: 'year' track by item.year" required>
                    <option value="">Seleccione un año</option>
                </select>
            </div>
            <div class="no-padding-right col-md-2 col-sm-2 col-xs-2 ">
              <button class="btn btn-primary col-md-12 orange-button-oficial" ng-click="vm.confirmSave()">Guardar presupuesto</button>
            </div>
        </div>
    </div>
    <div class="col-md-12">
    <div class="table-responsive">
        <table  class="table table-bordered  table-hover font-13 gray-font tableMaterialDesignAccountStatus" >
            <tbody>
            <tr>
                <th class="budgetTableHeader">CONCEPTO</th>
                <th class="budgetTableHeader">ENERO</th>
                <th class="budgetTableHeader">FEBRERO</th>
                <th class="budgetTableHeader">MARZO</th>
                <th class="budgetTableHeader">ABRIL</th>
                <th class="budgetTableHeader">MAYO</th>
                <th class="budgetTableHeader">JUNIO</th>
                <th class="budgetTableHeader">JULIO</th>
                <th class="budgetTableHeader">AGOSTO</th>
                <th class="budgetTableHeader">SETIEMBRE</th>
                <th class="budgetTableHeader">OCTUBRE</th>
                <th class="budgetTableHeader">NOVIEMBRE</th>
                <th class="budgetTableHeader">DICIEMBRE</th>
            </tr>
            <tr style="height:20px;">
            </tr>
            <tr style="background-color:#F1F8E9;">
                <td colspan='100%' class="text-left font-14 bold" style="padding:4px !important;">  INGRESOS POR CUOTAS</td>

            </tr>
            <tr>
                <td style="font-size:11px;">
                   MANTENIMIENTO
                </td>
                <td ng-repeat="mantenimientoValue in vm.mantenimientoValues" class="text-center" style="padding-top:9px !Important;">
                    <!--<span class="font-11">{{mantenimientoValue.month}}</span>-->
                    <input ng-blur="vm.putZero(mantenimientoValue)" ng-focus="vm.eliminateZero(mantenimientoValue)" ng-change="vm.setTotalIngressByMonth($index,mantenimientoValue)" ng-class="{redBorder: mantenimientoValue.valido==false}" ng-model="mantenimientoValue.valuePerMonth" type="text" class="form-control gray-font numbers" style="height:25px;  padding:2px!important; font-size:11px;" required>
                </td>


            </tr>
            <tr>
                <td style="font-size:11px;">
                    EXTRAORDINARIAS
                </td>
                <td ng-repeat="extraordinariaValue in vm.extraordinariaValues"  class="text-center" style="padding-top:9px !Important;">
                    <!--<span class="font-11">{{extraordinariaValue.month}}</span>-->
                    <input ng-blur="vm.putZero(extraordinariaValue)" ng-focus="vm.eliminateZero(extraordinariaValue)" ng-change="vm.setTotalIngressByMonth($index,extraordinariaValue)" ng-class="{redBorder: extraordinariaValue.valido==false}" ng-model="extraordinariaValue.valuePerMonth" type="text" class="form-control gray-font numbers" style="height:25px;  padding:2px!important; font-size:11px;" required>
                </td>


            </tr>
            <tr>
                <td style="font-size:11px;">
                    ÁREAS COMUNES
                </td>
                <td ng-repeat="areasComunesValue in vm.areasComunesValues"  class="text-center" style="padding-top:9px !Important;">
                    <!--<span class="font-11">{{areasComunesValue.month}}</span>-->
                    <input  ng-blur="vm.putZero(areasComunesValue)" ng-focus="vm.eliminateZero(areasComunesValue)" ng-change="vm.setTotalIngressByMonth($index,areasComunesValue)" ng-class="{redBorder: areasComunesValue.valido==false}" ng-model="areasComunesValue.valuePerMonth" type="text" class="form-control gray-font numbers" style="height:25px; padding:2px!important; font-size:11px;" required>
                </td>


            </tr>
            <tr>
                <td style="font-size:11px;">
                    OTROS INGRESOS
                </td>
                <td ng-repeat="otrosIngresosValue in vm.otrosIngresosValues"  class="text-center" style="padding-top:9px !Important;">
                    <!--<span class="font-11">{{otrosIngresosValue.month}}</span>-->
                    <input ng-blur="vm.putZero(otrosIngresosValue)" ng-focus="vm.eliminateZero(otrosIngresosValue)"  ng-change="vm.setTotalIngressByMonth($index,otrosIngresosValue)" ng-class="{redBorder: otrosIngresosValue.valido==false}" ng-model="otrosIngresosValue.valuePerMonth" type="text" class="form-control gray-font numbers" style="height:25px; padding:2px!important; font-size:11px;" required>
                </td>

            </tr>
            <tr>
                <td class="text-right bold  font-size-11">TOTAL</td>
                <td style="background-color:#ECEFF1" ng-repeat="month in vm.totalIngressByMonth" class="text-center" style="padding-top:9px !Important;">
                    <span class="text-center font-size-11  bold">₡{{vm.formatearNumero(month.valuePerMonth+"")}}</span>
                </td>
            </tr>
            <tr style="height:20px;">
            </tr>
            <tr style="background-color:#F1F8E9;">
                <td colspan='100%' class="text-left font-14 bold" style="padding:4px !important;"> EGRESOS</td>

            </tr>
            <tr>
                <th class="budgetTableHeader">CONCEPTO</th>
                <th class="budgetTableHeader">ENERO</th>
                <th class="budgetTableHeader">FEBRERO</th>
                <th class="budgetTableHeader">MARZO</th>
                <th class="budgetTableHeader">ABRIL</th>
                <th class="budgetTableHeader">MAYO</th>
                <th class="budgetTableHeader">JUNIO</th>
                <th class="budgetTableHeader">JULIO</th>
                <th class="budgetTableHeader">AGOSTO</th>
                <th class="budgetTableHeader">SETIEMBRE</th>
                <th class="budgetTableHeader">OCTUBRE</th>
                <th class="budgetTableHeader">NOVIEMBRE</th>
                <th class="budgetTableHeader">DICIEMBRE</th>
            </tr>
            <tr  ng-repeat="egressCategory in vm.egressCategories | orderBy: 'group' track by egressCategory.id"   >
                <td style=" text-transform:uppercase;" class=" text-left">
                    <span style="font-size:8px;" class="col-md-12 no-padding bold">{{egressCategory.group}}</span>
                    <span  style="font-size:11px;" >{{egressCategory.category}}</span>
                </td>
                <td ng-repeat="item in egressCategory.valuesPerMonth" class="text-center" style="padding-top:9px !Important;">
                    <!--<span style="font-size:10px">{{item.month}}</span>-->
                    <input ng-blur="vm.putZero(item)" ng-focus="vm.eliminateZero(item)" ng-change="vm.setTotalEgressByMonth($index,item)" ng-class="{redBorder: item.valido==false}" ng-model="item.valuePerMonth" type="text" class="form-control gray-font" style="height:25px; padding:2px!important; font-size:11px;" required>
                </td>

            </tr>
            <tr>
                <td class="text-right bold  font-size-11">TOTAL</td>
                <td style="background-color:#ECEFF1" ng-repeat="month in vm.totalEgressByMonth" class="text-center" style="padding-top:9px !Important;">
                    <span class="text-center font-size-11  bold">₡{{vm.formatearNumero(month.valuePerMonth+"")}}</span>
                </td>
            </tr>
            </tbody>
        </table>
        <div class="col-md-12 text-center">
            <h5 class="gray-font text-center">
                <button class="btn orange-button-oficial" style="text-align:center;width:300px" ng-click="vm.confirmSave()">Guardar presupuesto</button>
            </h5>
        </div>
    </div>
    </div>
</div>
