<md-sidenav id="side-nav" style="max-width:300px !important;min-width: 70px!important;"
            class="md-sidenav-left side-nav-bar fade-in fixed " md-component-id="left"
            md-whiteframe="4"
            md-is-locked-open="$mdMedia('gt-md')"
            has-any-authority="ROLE_USER,ROLE_MANAGER,ROLE_ADMIN,ROLE_JD,ROLE_OWNER">
    <!-- Se agrega en el md-sidenav si no se quiere cerrar al darle click outside md-disable-close-events-->
    <md-toolbar flex layout="row" class="md-theme-indigo" hide-lg hide-gt-lg hide-xl
                style="background-color: white;position: fixed">
        <h1 class="md-toolbar-tools" style="position: fixed">
            <i style="color:gray" class="material-icons material-icons-with-text" hide-lg hide-gt-lg hide-xl
               ng-click="toggleLeft()">menu</i>
            <a ui-sref="home">
                <img src="{{::adminCompany.navBarLogo.small.url}}" alt="logo" class="logo-default"
                     height="{{::adminCompany.navBarLogo.small.height}}">
            </a>
        </h1>
    </md-toolbar>
    <md-divider hide-lg hide-gt-lg hide-xl></md-divider>
    <md-content flex style="overflow-y: auto!important" layout="column">
        <nav id="sidebar">
            <div class="margin-top-56" hide-lg hide-gt-lg hide-xl ng-if="company.logoUrl != undefined" ></div>
            <div has-any-authority="ROLE_MANAGER,ROLE_USER,ROLE_OWNER,ROLE_JD" layout="column"
                 style="height: 80px;margin-bottom: 18px;margin-top: 10px"
                 ng-if="company.logoUrl">
                <div layout-align="space-around stretch" layout="row" style="height: 80px" ng-if="company.logoUrl || company.adminLogoUrl">
                    <div ng-if="company.logoUrl" flex="100" layout="column" layout="column" layout-align="space-around center"
                         class="text-center">
                        <img src="{{::company.logoUrl}}" alt="" height="80" width="135">
                    </div>
                </div>
                <div layout-align="space-around stretch" layout="row"  ng-if="company.logoUrl || company.adminLogoUrl">
                    <div ng-if="company.logoUrl" flex="45" layout="column" layout="column" layout-align="space-around stretch"
                         class="text-center">
<!--                        <span style="font-size: 10px;font-weight: 600;">Condominio</span>-->
                    </div>
                    <div flex="45" ng-if="company.adminLogoUrl && vm.showAdminCompanyLogo(company.id)" layout="column" layout-align="space-around stretch"
                         class="text-center">
                        <span style="font-size: 10px;font-weight: 600;">Administraci√≥n</span>
                    </div>
                </div>
                </div>
            </div>
            <md-divider ng-if="companyUser.companies.length>1"></md-divider>
            <div class="margin-top-56" ng-if="company.logoUrl == undefined" hide-lg hide-gt-lg hide-xl></div>
            <ul class="list-unstyled components hide-xs hide-sm">
                <li ng-if="companyUser.companies.length>1">
                    <md-menu>
                        <a ng-click="$mdMenu.open($event)" class="itemMenuSelect">
                            <p><i class="material-icons material-icons-with-text">business</i>Seleccionar condominio</p>
                        </a>
                        <md-menu-content width="4">
                            <md-menu-item ng-repeat="company in companyUser.companies | orderBy:'name'">
                                <a ng-click="vm.selectCompany(company)"
                                   style="{{vm.defineSelectCompanyColor(company).color}}">
                                    <p style="{{vm.defineSelectCompanyColor(company).backgroundColor}};padding:5px"><i
                                        class="material-icons material-icons-with-text">business</i>{{::company.name}}</p>
                                </a>
                            </md-menu-item>
                        </md-menu-content>
                    </md-menu>
                </li>
                <li ng-if="companyUser.houses.length>1">
                    <md-menu>
                        <a ng-click="$mdMenu.open($event)" class="itemMenuSelect">
                            <p><i class="material-icons material-icons-with-text">home</i>Filial
                                {{::houseSelected.housenumber}}
                                <i class="material-icons float-right">
                                    expand_more
                                </i>
                            </p>
                        </a>
                        <md-menu-content width="4">
                            <md-menu-item ng-repeat="house in companyUser.houses">
                                <a ng-click="vm.selectHouse(house)"
                                   style="{{vm.defineSelectHouseColor(house).color}}">
                                    <p style="{{vm.defineSelectHouseColor(house).backgroundColor}};padding:5px"><i
                                        class="material-icons material-icons-with-text">home</i>{{::house.housenumber}}
                                    </p>
                                </a>
                            </md-menu-item>
                        </md-menu-content>
                    </md-menu>
                </li>
                <li class="fade-in" ng-repeat="mainItem in vm.menu track by $index" ng-if="mainItem.hasContability"
                    hide-xs hide-sm has-any-authority="{{::mainItem.authoritites}}">
                    <div ng-if="mainItem.title!=''">
                        <md-divider></md-divider>
                        <a style="{{vm.defineStyleMainButton(mainItem).color}};cursor:default">
                            <p class="text-uppercase" style="{{vm.defineStyleMainButton(mainItem).backgroundColor}}">
                                {{::mainItem.title}}
                            </p>
                        </a>
                    </div>
                    <div>
                        <ul class="list-unstyled components">
                            <li ng-repeat="secondItem in mainItem.secondaryItems"
                                has-any-authority="{{secondItem.authoritites}}" ng-show="secondItem.showLg"
                                ng-if="vm.showSecondItem(secondItem)" class="fade-in">
                                <a ng-mouseenter="secondItem.hover = true;" ng-mouseleave="secondItem.hover = false"
                                   ng-if="!secondItem.collapsable" ng-click="vm.go(secondItem)"
                                   data-toggle="collapse"
                                   aria-expanded="false"
                                   class="dropdown-toggle" style="{{vm.defineStyleSecondButton(secondItem).color}}">
                                    <p style="{{vm.defineStyleSecondButton(secondItem).backgroundColor}}"><i
                                        class="material-icons principal-icon">
                                        {{::secondItem.icon}}
                                    </i> {{::secondItem.title}}
                                    </p>
                                </a>
                                <a ng-mouseenter="secondItem.hover = true;"
                                   has-any-authority="{{secondItem.authoritites}}"
                                   ng-click="vm.collapseAllOther(secondItem,null)"
                                   ng-mouseleave="secondItem.hover = false" ng-if="secondItem.collapsable"
                                   href="#{{::secondItem.menuId}}"
                                   target="_self" data-toggle="collapse"
                                   aria-expanded="false"
                                   class="dropdown-toggle" style="{{vm.defineStyleSecondButton(secondItem).color}}">
                                    <p style="{{vm.defineStyleSecondButton(secondItem).backgroundColor}}"><i
                                        class="material-icons principal-icon">
                                        {{::secondItem.icon}}
                                    </i> {{::secondItem.title}} <i class="material-icons float-right">
                                        expand_more
                                    </i>
                                    </p>
                                </a>
                                <ul ng-if="secondItem.collapsable" class="collapse list-unstyled"
                                    id="{{::secondItem.menuId}}">
                                    <li has-any-authority="{{::thirdItem.authoritites}}"
                                        ng-repeat="thirdItem in secondItem.thirdItems"
                                        ng-class="{ 'activeSubmenu' : vm.defineActive(thirdItem)}"
                                        ng-if="thirdItem.showLg">
                                        <a ng-mouseenter="thirdItem.hover = true;"
                                           ng-mouseleave="thirdItem.hover = false"
                                           ng-if="!thirdItem.collapsable" ng-click="vm.go(thirdItem)"
                                           data-toggle="collapse"
                                           aria-expanded="false"
                                           class="dropdown-toggle"
                                           style="{{vm.defineStyleThirdButton(thirdItem).color}};padding:0 5px;">
                                            <p style="{{vm.defineStyleThirdButton(thirdItem).backgroundColor}}"><i
                                                class="material-icons principal-icon">
                                                {{::thirdItem.icon}}
                                            </i> {{::thirdItem.title}}
                                            </p>
                                        </a>
                                        <a ng-mouseenter="thirdItem.hover = true;"
                                           ng-click="vm.collapseAllOther(thirdItem,secondItem)"
                                           ng-mouseleave="thirdItem.hover = false" ng-if="thirdItem.collapsable"
                                           href="#{{thirdItem.menuId}}" target="_self"
                                           data-toggle="collapse" aria-expanded="false"
                                           class="dropdown-toggle"
                                           style="{{vm.defineStyleThirdButton(thirdItem).color}};padding:0 5px;">
                                            <p style="{{vm.defineStyleThirdButton(thirdItem).backgroundColor}}"><i
                                                class="material-icons principal-icon">
                                                {{::thirdItem.icon}}
                                            </i> {{::thirdItem.title}} <i class="material-icons float-right">
                                                expand_more
                                            </i>
                                            </p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </li>
            </ul>
            <md-divider ng-if="companyUser.companies.length>1"></md-divider>

            <ul class="list-unstyled components hide-lg hide-xl hide-md">
                <li ng-if="companyUser.companies.length>1">
                    <md-menu>
                        <a ng-click="$mdMenu.open($event)" class="itemMenuSelect">
                            <p><i class="material-icons material-icons-with-text">business</i>Seleccionar condominio</p>
                        </a>
                        <md-menu-content width="4">
                            <md-menu-item ng-repeat="company in companyUser.companies">
                                <a ng-click="vm.selectCompany(company)"
                                   style="{{vm.defineSelectCompanyColor(company).color}}">
                                    <p style="{{vm.defineSelectCompanyColor(company).backgroundColor}};padding:5px"><i
                                        class="material-icons material-icons-with-text">business</i>{{::company.name}}</p>
                                </a>
                            </md-menu-item>
                        </md-menu-content>
                    </md-menu>
                </li>
                <li ng-if="companyUser.houses.length>1">
                    <md-menu>
                        <a ng-click="$mdMenu.open($event)" class="itemMenuSelect">
                            <p><i class="material-icons material-icons-with-text">home</i>Filial
                                {{::houseSelected.housenumber}}
                                <i class="material-icons float-right">
                                    expand_more
                                </i>
                            </p>
                        </a>
                        <md-menu-content width="4">
                            <md-menu-item ng-repeat="house in companyUser.houses">
                                <a ng-click="vm.selectHouse(house)"
                                   style="{{vm.defineSelectHouseColor(house).color}}">
                                    <p style="{{vm.defineSelectHouseColor(house).backgroundColor}};padding:5px"><i
                                        class="material-icons material-icons-with-text">home</i>{{::house.housenumber}}
                                    </p>
                                </a>
                            </md-menu-item>
                        </md-menu-content>
                    </md-menu>
                </li>
                <li class="fade-in" ng-repeat="mainItem in vm.menu" ng-if="mainItem.showXs && mainItem.hasContability"
                    hide-lg hide-xl hide-md has-any-authority="{{::mainItem.authoritites}}">
                    <div ng-if="mainItem.title!=''">
                        <md-divider></md-divider>
                        <a style="{{vm.defineStyleMainButton(mainItem).color}};cursor:default">
                            <p class="text-uppercase" style="{{vm.defineStyleMainButton(mainItem).backgroundColor}}">
                                {{::mainItem.title}}
                            </p>
                        </a>
                    </div>
                    <div>
                        <ul class="list-unstyled components">
                            <li ng-repeat="secondItem in mainItem.secondaryItems"
                                has-any-authority="{{secondItem.authoritites}}" ng-show="secondItem.showXs"
                                ng-if="vm.showSecondItem(secondItem)" class="fade-in">
                                <a ng-mouseenter="secondItem.hover = true;" ng-mouseleave="secondItem.hover = false"
                                   ng-if="!secondItem.collapsable" ng-click="vm.go(secondItem)"
                                   data-toggle="collapse"
                                   aria-expanded="false"
                                   class="dropdown-toggle" style="{{vm.defineStyleSecondButton(secondItem).color}}">
                                    <p style="{{vm.defineStyleSecondButton(secondItem).backgroundColor}}"><i
                                        class="material-icons principal-icon">
                                        {{::secondItem.icon}}
                                    </i> {{::secondItem.title}}
                                    </p>
                                </a>
                                <a ng-mouseenter="secondItem.hover = true;"
                                   has-any-authority="{{secondItem.authoritites}}"
                                   ng-click="vm.collapseAllOther(secondItem,null)"
                                   ng-mouseleave="secondItem.hover = false" ng-if="secondItem.collapsable"
                                   href="#{{secondItem.menuId+'xs'}}"
                                   target="_self" data-toggle="collapse"
                                   aria-expanded="false"
                                   class="dropdown-toggle" style="{{vm.defineStyleSecondButton(secondItem).color}}">
                                    <p style="{{vm.defineStyleSecondButton(secondItem).backgroundColor}}"><i
                                        class="material-icons principal-icon">
                                        {{::secondItem.icon}}
                                    </i> {{::secondItem.title}} <i class="material-icons float-right">
                                        expand_more
                                    </i>
                                    </p>
                                </a>
                                <ul ng-if="secondItem.collapsable" class="collapse list-unstyled"
                                    id="{{secondItem.menuId+'xs'}}">
                                    <li has-any-authority="{{thirdItem.authoritites}}"
                                        ng-repeat="thirdItem in secondItem.thirdItems"
                                        ng-class="{ 'activeSubmenu' : vm.defineActive(thirdItem)}"
                                        ng-if="thirdItem.showXs">
                                        <a ng-mouseenter="thirdItem.hover = true;"
                                           ng-mouseleave="thirdItem.hover = false"
                                           ng-if="!thirdItem.collapsable" ng-click="vm.go(thirdItem)"
                                           data-toggle="collapse"
                                           aria-expanded="false"
                                           class="dropdown-toggle"
                                           style="{{vm.defineStyleThirdButton(thirdItem).color}};padding:0 5px;">
                                            <p style="{{vm.defineStyleThirdButton(thirdItem).backgroundColor}}"><i
                                                class="material-icons principal-icon">
                                                {{::thirdItem.icon}}
                                            </i> {{::thirdItem.title}}
                                            </p>
                                        </a>
                                        <a ng-mouseenter="thirdItem.hover = true;"
                                           ng-click="vm.collapseAllOther(thirdItem,secondItem)"
                                           ng-mouseleave="thirdItem.hover = false" ng-if="thirdItem.collapsable"
                                           href="#{{thirdItem.menuId}}" target="_self"
                                           data-toggle="collapse" aria-expanded="false"
                                           class="dropdown-toggle"
                                           style="{{vm.defineStyleThirdButton(thirdItem).color}};padding:0 5px;">
                                            <p style="{{vm.defineStyleThirdButton(thirdItem).backgroundColor}}"><i
                                                class="material-icons principal-icon">
                                                {{::thirdItem.icon}}
                                            </i> {{::thirdItem.title}} <i class="material-icons float-right">
                                                expand_more
                                            </i>
                                            </p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </li>
            </ul>
            <div class="text-center" ng-if="adminCompany.id!=1">
                <h3>
                    <img height="45px" src="content/images/poweredByAditum.png" alt="">
                </h3>
            </div>
        </nav>
    </md-content>
</md-sidenav>
