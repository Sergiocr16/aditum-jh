<div ng-cloak layout="column" class="md-inline-form col-md-12 col-lg-12 form-wrapper no-padding fade-in">
    <md-toolbar class="form-title" hide-sm hide-xs>
        <h2>{{mainTitle}}</h2>
    </md-toolbar>
    <md-content layout-padding class="form-content">
        <div ng-model="vm.form">
            <span ng-hide="true">{{setInvalidForm(form.$invalid)}}</span>
            <div layout="column" class="font-14">
                <h3>Contraseña de [<b style="color:#44b6ae !important">{{vm.account.login}}</b>]</h3>
            </div>
            <div class="margin-top-20">
                <form name="form" role="form" novalidate ng-submit="vm.changePassword()" show-validation layout="column">
                    <div class="form-group" >
                        <div class="col-md-12">
                            <div class="form-group form-md-line-input small-margin-top">
                                <input ng-model="vm.password" ng-minlength=4 ng-maxlength=50 required name="password"
                                       id="password" type="password" class="form-control text-center" placeholder=""
                                       required title="Input required">
                                <label for="password">Nueva contraseña</label>
                            </div>
                        </div>
                        <div ng-show="form.password.$dirty && form.password.$invalid">
                            <p class="help-block"
                               ng-show="form.password.$error.required"
                               data-translate="global.messages.validate.newpassword.required">
                                Your password is required.
                            </p>
                            <p class="help-block"
                               ng-show="form.password.$error.minlength"
                               data-translate="global.messages.validate.newpassword.minlength">
                                Your password is required to be at least 4 characters.
                            </p>
                            <p class="help-block"
                               ng-show="form.password.$error.maxlength"
                               data-translate="global.messages.validate.newpassword.maxlength">
                                Your password cannot be longer than 50 characters.
                            </p>
                        </div>
                        <password-strength-bar password-to-check="vm.password"
                                               class="text-center"></password-strength-bar>
                    </div>
                    <div class="form-group">
                        <div class="col-md-12">
                            <div class="form-group form-md-line-input small-margin-top">
                                <input ng-model="vm.confirmPassword" ng-minlength=4 ng-maxlength=50 required
                                       name="password" id="confirmPassword" type="password"
                                       class="form-control text-center" placeholder="" required title="Input required">
                                <label for="password">Confirmación de contraseña</label>
                            </div>
                        </div>
                        <div ng-show="form.confirmPassword.$dirty && form.confirmPassword.$invalid">
                            <p class="help-block"
                               ng-show="form.confirmPassword.$error.required"
                               data-translate="global.messages.validate.confirmpassword.required">
                                Your confirmation password is required.
                            </p>
                            <p class="help-block"
                               ng-show="form.confirmPassword.$error.minlength"
                               data-translate="global.messages.validate.confirmpassword.minlength">
                                Your confirmation password is required to be at least 4 characters.
                            </p>
                            <p class="help-block"
                               ng-show="form.confirmPassword.$error.maxlength"
                               data-translate="global.messages.validate.confirmpassword.maxlength">
                                Your confirmation password cannot be longer than 50 characters.
                            </p>
                        </div>
                    </div>
                    <div layout="row" layout-align="end center" hide-sm hide-xs>
                        <md-button class="md-raised md-primary" type="submit" ng-disabled="form.$invalid">Cambiar contraseña
                        </md-button>
                    </div>
                </form>
            </div>
        </div>
    </md-content>
</div>
